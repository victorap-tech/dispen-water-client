<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dispenser Agua</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Â¡Gracias por tu pago! ğŸ’§</h1>
        <p>ElegÃ­ el tipo de agua:</p>

        <button onclick="dispensar(1)">Agua CALIENTE</button>
        <button onclick="dispensar(2)">Agua FRÃA</button>

        <p id="estado"></p>
    </div>

<script>
const API = "https://web-production-e7d2.up.railway.app";

function dispensar(salida) {
    document.getElementById("estado").innerText = "Habilitando salida...";

    fetch(`${API}/api/dispensar/${salida}`, { method: "POST" })
        .then(r => r.json())
        .then(d => {
            document.getElementById("estado").innerText = d.ok ? 
                "Listo para dispensar" : "Error en el dispensado";
        })
        .catch(() => {
            document.getElementById("estado").innerText = "Error de conexiÃ³n";
        });
}
</script>
</body>
</html>
